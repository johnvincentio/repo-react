{"ast":null,"code":"import { actionCreators } from './base';\nimport { makeTask, makeUser, makeStatus, makeTag, makeComment } from './factory';\nexport const createUser = data => {\n  const user = makeUser(data);\n  return actionCreators.create('user', user.id, user);\n};\nexport const updateUser = (id, data) => {\n  return actionCreators.update('user', id, data);\n};\nexport const createStatus = data => {\n  const status = makeStatus(data);\n  return actionCreators.create('status', status.id, status);\n};\nexport const updateStatus = (id, status) => {\n  return actionCreators.update('status', id, status);\n};\n\nconst commentCascade = () => ({\n  childCommentIds: commentCascade\n});\n\nexport const deleteStatus = id => {\n  const cascade = {\n    taskIds: {\n      rootCommentIds: {\n        childCommentIds: commentCascade\n      }\n    }\n  };\n  return actionCreators.delete('status', id, cascade);\n};\nexport const createTask = data => {\n  const task = makeTask(data);\n  return actionCreators.batch(actionCreators.create('task', task.id, task), actionCreators.attach('task', task.id, 'creatorId', task.creatorId), actionCreators.attach('task', task.id, 'statusId', task.statusId));\n};\nexport const updateTask = (id, task) => {\n  return actionCreators.update('task', id, task);\n};\nexport const deleteTask = id => {\n  const cascade = {\n    rootCommentIds: {\n      childCommentIds: commentCascade\n    }\n  };\n  return actionCreators.delete('task', id, cascade);\n};\nexport const assignTask = (taskId, userId) => {\n  return actionCreators.attach('task', taskId, 'assigneeId', userId);\n};\nexport const unassignTask = (taskId, userId) => {\n  return actionCreators.detach('task', taskId, 'assigneeId', userId);\n};\nexport const createTag = data => {\n  const tag = makeTag(data);\n  return actionCreators.create('tag', tag.id, tag);\n};\nexport const createRootComment = data => {\n  const comment = makeComment(data); // a root comment must have a task\n  // so create the comment and attach it to the task\n\n  return actionCreators.batch(actionCreators.create('comment', comment.id, comment), actionCreators.attach('comment', comment.id, 'creatorId', data.creatorId), actionCreators.attach('comment', comment.id, 'taskId', data.taskId));\n};\nexport const createChildComment = data => {\n  const comment = makeComment(data);\n  return actionCreators.batch(actionCreators.create('comment', comment.id, comment), actionCreators.attach('comment', comment.id, 'creatorId', data.creatorId), actionCreators.attach('comment', comment.id, 'parentCommentId', data.parentCommentId));\n};\nexport const deleteComment = id => {\n  const cascade = {\n    childCommentIds: commentCascade\n  };\n  return actionCreators.delete('comment', id, cascade);\n};\nexport const moveStatus = (src, dest) => {\n  return actionCreators.move('status', src, dest);\n};\nexport const moveStatusTask = (taskId, srcStatusId, src, destStatusId, dest) => {\n  if (srcStatusId === destStatusId) {\n    return actionCreators.moveAttached('status', srcStatusId, 'taskIds', src, dest);\n  } else {\n    return actionCreators.attach('status', destStatusId, 'taskIds', taskId, {\n      index: dest\n    });\n  }\n};","map":{"version":3,"sources":["/Users/jv/Desktop/MyDevelopment/github/repo-react/dnd/kanban/kanban-dashboard/src/dashboard/store/actions.ts"],"names":["actionCreators","makeTask","makeUser","makeStatus","makeTag","makeComment","createUser","data","user","create","id","updateUser","update","createStatus","status","updateStatus","commentCascade","childCommentIds","deleteStatus","cascade","taskIds","rootCommentIds","delete","createTask","task","batch","attach","creatorId","statusId","updateTask","deleteTask","assignTask","taskId","userId","unassignTask","detach","createTag","tag","createRootComment","comment","createChildComment","parentCommentId","deleteComment","moveStatus","src","dest","move","moveStatusTask","srcStatusId","destStatusId","moveAttached","index"],"mappings":"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","sourcesContent":["import { Task, User, Tag } from './types';\nimport { actionCreators } from './base';\nimport { makeTask, makeUser, makeStatus, makeTag, makeComment } from './factory';\n\nexport const createUser = (data: Partial<User>) => {\n  const user = makeUser(data);\n  return actionCreators.create('user', user.id, user);\n};\n\nexport const updateUser = (id: string, data: { username?: string }) => {\n  return actionCreators.update('user', id, data);\n}\n\nexport const createStatus = (data: { id?: string, title: string }) => {\n  const status = makeStatus(data);\n  return actionCreators.create('status', status.id, status);\n};\n\nexport const updateStatus = (id: string, status: { title?: string }) => {\n  return actionCreators.update('status', id, status);\n};\n\nconst commentCascade = () => ({ childCommentIds: commentCascade })\n\nexport const deleteStatus = (id: string) => {\n  const cascade = {\n    taskIds: { rootCommentIds: { childCommentIds: commentCascade } }\n  };\n  return actionCreators.delete('status', id, cascade);\n};\n\nexport const createTask = (data: Partial<Task>) => {\n  const task = makeTask(data);\n\n  return actionCreators.batch(\n    actionCreators.create('task', task.id, task),\n    actionCreators.attach('task', task.id, 'creatorId', task.creatorId),\n    actionCreators.attach('task', task.id, 'statusId', task.statusId),\n  );\n};\n\nexport const updateTask = (id: string, task: { title?: string }) => {\n  return actionCreators.update('task', id, task);\n};\n\nexport const deleteTask = (id: string) => {\n  const cascade = { rootCommentIds: { childCommentIds: commentCascade } };\n  return actionCreators.delete('task', id, cascade);\n};\n\nexport const assignTask = (taskId: string, userId: string) => {\n  return actionCreators.attach('task', taskId, 'assigneeId', userId);\n};\n\nexport const unassignTask = (taskId: string, userId: string) => {\n  return actionCreators.detach('task', taskId, 'assigneeId', userId);\n};\n\nexport const createTag = (data: Partial<Tag>) => {\n  const tag = makeTag(data);\n  return actionCreators.create('tag', tag.id, tag);\n};\n\nexport const createRootComment = (data: { id?: string, taskId: string, value: string, creatorId: string }) => {\n  const comment = makeComment(data);\n\n  // a root comment must have a task\n  // so create the comment and attach it to the task\n  return actionCreators.batch(\n    actionCreators.create('comment', comment.id, comment),\n    actionCreators.attach('comment', comment.id, 'creatorId', data.creatorId),\n    actionCreators.attach('comment', comment.id, 'taskId', data.taskId)\n  );\n};\n\nexport const createChildComment = (data: { id?: string, parentCommentId: string, value: string, creatorId: string, ts: Date }) => {\n  const comment = makeComment(data);\n\n  return actionCreators.batch(\n    actionCreators.create('comment', comment.id, comment),\n    actionCreators.attach('comment', comment.id, 'creatorId', data.creatorId),\n    actionCreators.attach('comment', comment.id, 'parentCommentId', data.parentCommentId)\n  );\n};\n\nexport const deleteComment = (id: string) => {\n  const cascade = { childCommentIds: commentCascade };\n  return actionCreators.delete('comment', id, cascade);\n};\n\nexport const moveStatus = (src: number, dest: number) => {\n  return actionCreators.move('status', src, dest);\n};\n\nexport const moveStatusTask = (taskId: string, srcStatusId: string, src: number, destStatusId: string, dest: number) => {\n  if (srcStatusId === destStatusId) {\n    return actionCreators.moveAttached('status', srcStatusId, 'taskIds', src, dest);\n  } else {\n    return actionCreators.attach('status', destStatusId, 'taskIds', taskId, { index: dest })\n  }\n};\n"]},"metadata":{},"sourceType":"module"}