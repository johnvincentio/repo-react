{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar _jsxFileName = \"/Users/jv/Desktop/MyDevelopment/github/repo-react/dnd/kanban/kanban-dashboard/src/dashboard/TaskCard.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { OptionsPopper } from '../components/options-popper';\nimport { hooks } from './store';\nimport TaskDetails from './TaskDetails';\nimport { useCardStyles } from './styles';\nexport default function TaskCard(_ref) {\n  _s();\n\n  var id = _ref.id,\n      dragHandleProps = _ref.dragHandleProps;\n  var classNames = useCardStyles();\n\n  var _hooks$useTask = hooks.useTask(id),\n      title = _hooks$useTask.title,\n      assigneeId = _hooks$useTask.assigneeId;\n\n  var assignee = hooks.useUser(assigneeId);\n  var deleteTask = hooks.useDeleteTask();\n\n  var handleClickDelete = function handleClickDelete() {\n    if (deleteTask) {\n      deleteTask(id);\n    }\n  };\n\n  var _useState = useState(false),\n      isDetailsOpen = _useState[0],\n      setIsDetailsOpen = _useState[1];\n\n  var openDetails = function openDetails() {\n    return setIsDetailsOpen(true);\n  };\n\n  var closeDetails = function closeDetails() {\n    return setIsDetailsOpen(false);\n  };\n\n  return __jsx(Paper, _extends({\n    className: classNames.task\n  }, dragHandleProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }), __jsx(\"div\", {\n    className: classNames.taskHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, __jsx(Typography, {\n    className: classNames.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, title), assignee && __jsx(Typography, {\n    variant: \"subtitle2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, \"Assigned to \", assignee.username)), __jsx(OptionsPopper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, __jsx(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, __jsx(ListItem, {\n    button: true,\n    onClick: openDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, __jsx(ListItemText, {\n    primary: \"View & Edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  })), __jsx(ListItem, {\n    button: true,\n    onClick: handleClickDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, __jsx(ListItemText, {\n    primary: \"Delete\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  }))))), isDetailsOpen && __jsx(TaskDetails, {\n    id: id,\n    isOpen: isDetailsOpen,\n    close: closeDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }));\n}\n\n_s(TaskCard, \"p72ygMUuyWi6zNGjjRqOGTNWytA=\", false, function () {\n  return [useCardStyles, hooks.useTask, hooks.useUser, hooks.useDeleteTask];\n});\n\n_c = TaskCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"TaskCard\");","map":{"version":3,"sources":["/Users/jv/Desktop/MyDevelopment/github/repo-react/dnd/kanban/kanban-dashboard/src/dashboard/TaskCard.tsx"],"names":["React","useState","Typography","Paper","List","ListItem","ListItemText","OptionsPopper","hooks","TaskDetails","useCardStyles","TaskCard","id","dragHandleProps","classNames","useTask","title","assigneeId","assignee","useUser","deleteTask","useDeleteTask","handleClickDelete","isDetailsOpen","setIsDetailsOpen","openDetails","closeDetails","task","taskHeader","username"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { DraggableProvidedDragHandleProps } from 'react-beautiful-dnd';\n\nimport { OptionsPopper } from '../components/options-popper';\n\nimport { hooks } from './store';\nimport TaskDetails from './TaskDetails';\nimport { useCardStyles } from './styles';\n\n\nexport interface Props {\n  id: string,\n  statusId: string,\n  dragHandleProps: DraggableProvidedDragHandleProps\n}\n\nexport default function TaskCard({ id, dragHandleProps }: Props) {\n  const classNames = useCardStyles();\n  const { title, assigneeId } = hooks.useTask(id);\n  const assignee = hooks.useUser(assigneeId);\n  const deleteTask = hooks.useDeleteTask();\n  const handleClickDelete = () => {\n    if (deleteTask) {\n      deleteTask(id);\n    }\n  };\n\n  const [isDetailsOpen, setIsDetailsOpen] = useState(false);\n  const openDetails = () => setIsDetailsOpen(true);\n  const closeDetails = () => setIsDetailsOpen(false);\n\n  return (\n    <Paper className={classNames.task} {...dragHandleProps}>\n      <div className={classNames.taskHeader}>\n        <div>\n          <Typography className={classNames.title}>{title}</Typography>\n\n          {assignee &&\n          <Typography variant=\"subtitle2\">Assigned to {assignee.username}</Typography>\n          }\n        </div>\n\n        <OptionsPopper>\n          <List>\n            <ListItem button onClick={openDetails}>\n              <ListItemText primary=\"View & Edit\"/>\n            </ListItem>\n            <ListItem button onClick={handleClickDelete}>\n              <ListItemText primary=\"Delete\"/>\n            </ListItem>\n          </List>\n        </OptionsPopper>\n      </div>\n\n      {isDetailsOpen &&\n      <TaskDetails\n        id={id}\n        isOpen={isDetailsOpen}\n        close={closeDetails}\n      />\n      }\n    </Paper>\n  );\n}\n\n"]},"metadata":{},"sourceType":"module"}