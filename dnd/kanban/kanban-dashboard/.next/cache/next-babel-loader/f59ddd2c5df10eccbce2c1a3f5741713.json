{"ast":null,"code":"var _jsxFileName = \"/Users/jv/Desktop/MyDevelopment/github/repo-react/dnd/kanban/kanban-dashboard/src/dashboard/Comment.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Comment as CommentView } from '../components/comment';\nimport { hooks, emptyArray } from './store';\nimport { useCurrentUserId } from './CurrentUser';\nexport default function Comment(_ref) {\n  _s();\n\n  var _this = this;\n\n  var id = _ref.id;\n  var comment = hooks.useComment(id);\n  var createChildComment = hooks.useCreateChildComment();\n  var username = hooks.useCommentUsername(id);\n  var currentUserId = useCurrentUserId();\n\n  if (!comment) {\n    return null;\n  }\n\n  var value = comment.value,\n      childCommentIds = comment.childCommentIds;\n\n  var handleSubmitReply = function handleSubmitReply(value, ts) {\n    createChildComment({\n      value: value,\n      parentCommentId: id,\n      creatorId: currentUserId,\n      ts: ts\n    });\n  };\n\n  var childCommentsElement = __jsx(React.Fragment, null, (childCommentIds || emptyArray).map(function (childId) {\n    return __jsx(Comment, {\n      key: childId,\n      id: childId,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 55\n      }\n    });\n  }));\n\n  return __jsx(CommentView, {\n    username: username,\n    value: value,\n    childComments: childCommentsElement,\n    onSubmitReply: handleSubmitReply,\n    ts: comment.ts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  });\n}\n\n_s(Comment, \"DR0sy2Kve0ivC5SH1w6bHNB1k70=\", false, function () {\n  return [hooks.useComment, hooks.useCreateChildComment, hooks.useCommentUsername, useCurrentUserId];\n});\n\n_c = Comment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Comment\");","map":{"version":3,"sources":["/Users/jv/Desktop/MyDevelopment/github/repo-react/dnd/kanban/kanban-dashboard/src/dashboard/Comment.tsx"],"names":["React","Comment","CommentView","hooks","emptyArray","useCurrentUserId","id","comment","useComment","createChildComment","useCreateChildComment","username","useCommentUsername","currentUserId","value","childCommentIds","handleSubmitReply","ts","parentCommentId","creatorId","childCommentsElement","map","childId"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,OAAO,IAAIC,WAApB,QAAuC,uBAAvC;AACA,SAASC,KAAT,EAAgBC,UAAhB,QAAkC,SAAlC;AACA,SAASC,gBAAT,QAAiC,eAAjC;AAOA,eAAe,SAASJ,OAAT,OAAgC;AAAA;;AAAA;;AAAA,MAAbK,EAAa,QAAbA,EAAa;AAC7C,MAAMC,OAAO,GAAGJ,KAAK,CAACK,UAAN,CAAiBF,EAAjB,CAAhB;AACA,MAAMG,kBAAkB,GAAGN,KAAK,CAACO,qBAAN,EAA3B;AACA,MAAMC,QAAQ,GAAGR,KAAK,CAACS,kBAAN,CAAyBN,EAAzB,CAAjB;AACA,MAAMO,aAAa,GAAGR,gBAAgB,EAAtC;;AAEA,MAAI,CAACE,OAAL,EAAc;AACZ,WAAO,IAAP;AACD;;AAR4C,MAUrCO,KAVqC,GAUVP,OAVU,CAUrCO,KAVqC;AAAA,MAU9BC,eAV8B,GAUVR,OAVU,CAU9BQ,eAV8B;;AAY7C,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACF,KAAD,EAAgBG,EAAhB,EAA6B;AACrDR,IAAAA,kBAAkB,CAAC;AAAEK,MAAAA,KAAK,EAALA,KAAF;AAASI,MAAAA,eAAe,EAAEZ,EAA1B;AAA8Ba,MAAAA,SAAS,EAAEN,aAAzC;AAAwDI,MAAAA,EAAE,EAAFA;AAAxD,KAAD,CAAlB;AACD,GAFD;;AAIA,MAAMG,oBAAoB,GACxB,4BAAG,CAACL,eAAe,IAAIX,UAApB,EAAgCiB,GAAhC,CAAoC,UAAAC,OAAO;AAAA,WAAI,MAAC,OAAD;AAAS,MAAA,GAAG,EAAEA,OAAd;AAAuB,MAAA,EAAE,EAAEA,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAJ;AAAA,GAA3C,CAAH,CADF;;AAIA,SACE,MAAC,WAAD;AACE,IAAA,QAAQ,EAAEX,QADZ;AAEE,IAAA,KAAK,EAAEG,KAFT;AAGE,IAAA,aAAa,EAAEM,oBAHjB;AAIE,IAAA,aAAa,EAAEJ,iBAJjB;AAKE,IAAA,EAAE,EAAET,OAAO,CAACU,EALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AASD;;GA7BuBhB,O;UACNE,KAAK,CAACK,U,EACKL,KAAK,CAACO,qB,EAChBP,KAAK,CAACS,kB,EACDP,gB;;;KAJAJ,O","sourcesContent":["import React from 'react';\n\nimport { Comment as CommentView } from '../components/comment';\nimport { hooks, emptyArray } from './store';\nimport { useCurrentUserId } from './CurrentUser';\n\nexport interface Props {\n  id: string,\n  taskId?: string,\n  parentCommentId?: string,\n}\nexport default function Comment({ id }: Props) {\n  const comment = hooks.useComment(id);\n  const createChildComment = hooks.useCreateChildComment();\n  const username = hooks.useCommentUsername(id);\n  const currentUserId = useCurrentUserId();\n\n  if (!comment) {\n    return null;\n  }\n\n  const { value, childCommentIds } = comment;\n\n  const handleSubmitReply = (value: string, ts: Date) => {\n    createChildComment({ value, parentCommentId: id, creatorId: currentUserId, ts });\n  };\n\n  const childCommentsElement = (\n    <>{(childCommentIds || emptyArray).map(childId => <Comment key={childId} id={childId}/>)}</>\n  );\n\n  return (\n    <CommentView\n      username={username}\n      value={value}\n      childComments={childCommentsElement}\n      onSubmitReply={handleSubmitReply}\n      ts={comment.ts}\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}